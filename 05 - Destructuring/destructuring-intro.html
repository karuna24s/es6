<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Destructuring!</title>
  </head>
  <body>
    <script>
      const person = {
        first: 'Karuna',
        last: 'Sehgal',
        country: 'United States',
        city: 'New York',
        twitter: '@karuna24s'
      };

      // Now we are going to learn about destructuring. Along with arrow functions,
      // let, and const, it is probably something you going to be using everyday.
      // Destructuring can be extremely useful in the code we are writing.
      // Destructuring means it is a JS expression that allows us to extract
      // data from arrays, objects, maps, and sets into their own variable. It
      // allows us to extract properties from an object or items from an array,
      // multiple at a time. Let's take a look at what problem this really solves.
      // Sometimes you need to have top level variables like const first = person.first;
      // const last = person.last; And you get the point. You do this over and over
      // again and you got this repetitive code over and over again, where you
      // need to make a variable from something that is inside of an object or
      // inside of an array.

      // const first = person.first;
      // const last = person.last;

      // What we could do instead of doing two variables or six variables, you
      // could say const and you could open up a curly bracket and add a closing
      // bracket. That is not a block. That is not an object. That is the
      // destructuring syntax. Inside we say first, last, outside the curly
      // brackets equals person. What does that do? That says give me a variable
      // called first, a variable called last, and take it from the person. It is
      // kind of weird because we are not setting the entire object, but we are
      // taking the first property and the last property and putting the into
      // two top level variables. If I save that now and inside the console I
      // type first then last. First returns Karuna and last returns Sehgal,
      // since I have created two top level variables. Similarly, if I also
      // wanted to add twitter into this open and closing curly brackets. I would
      // then get a third top level variable inside of my actual scope.

      const { first, last, twitter } = person;

      // That is really handy in many use cases. This is just one nested level,
      // but for example, in react often you want to use destructuring Because
      // the data is so deeply nested. Let's take a look at some nested data.
      // I am going to make another variable called wes. Now this data is
      // something you might get back from an API where it is really deeply
      // nested. I want to be able to pull out Twitter and Facebook URLs here.

      const wes = {
        first: 'Wes',
        last: 'Bos',
        links: {
          social: {
            twitter: 'https://twitter.com/wesbos',
            facebook: 'https://facebook.com/wesbos.developer',
          },
          web: {
            blog: 'https://wesbos.com'
          }
        }
      };

      // I could do this:
      // const twitter = wes.links.social.twitter;
      // Then do the same for facebook:
      // const facebook = wes.links.social.facebook;
      // Again that is repetitive. We can use a destructuring instead:
      // Let's type in const open and close your curly brackets there in order to
      // open and close the destructuring syntax. Then we will say twitter and
      // facebook are equal to wes and we don't just say wes here. We say
      // wes.links.social, and that will then reach into the social object and
      // pull out two variables called twitter and facebook. I just consted
      // twitter and I did that earlier in this html file in line 47. You can
      // see an error in the console which states that twitter has already been
      // declared. So I can comment out line 47. When I type in twitter in to the
      // console, it return the twitter link. So that is how you do it with
      // nested data.
      // const { twitter, facebook } = wes.links.social;

      // Let's take a look at another use case which would be renaming your
      // variables. Sometimes data comes back in some odd names, and you might
      // not necessarily want to use a property key. For example in line 47, I
      // already used twitter as a variable. I can't use it again, but I am
      // stuck because this object gives me twitter as a key (person) and the
      // second object (wes) gives me twitter as a key. What you can do is rename
      // then as you destructure them. You can say I want the twitter property,
      // but I want to call it tweet. I also want the facebook property, but I
      // want to call it fb. Now when I type in tweet in the console, I get the
      // twitter link. Now I have my tweet and fb variables and they are being
      // destructured as wes.links.social.twitter and wes.links.social.facebook
      // but then stored in variables called tweet and fb.

      const { twitter: tweet, facebook: fb } = wes.links.social;

      // There is one last thing we need to know about destructuring objects,
      // and that is the ability to set defaults. Let's say we have a function
      // that is going to add some animation on our page, and it is going to create
      // an element and style it for us. We have things like width, height, color,
      // and font size that we want to set on this actual element. We have that
      // settings object. I am going to create my own settings, so settings
      // equals and we want the width to be 300, and we want the color to be
      // black. Those are our settings. However, the thing that we are building
      // requires a height and a font size. So those are the four properties that
      // settings object requires.

      // var settings = {width: 300, color: 'black'}; // height, fontSize

      // How do we actually deal with them when two properties are missing?
      // Previously what you would do is you would have a default settings object
      // and you would fold the settings object in, you would merge it on in.
      // But with ES6 what we can do is, first change var to const. And we can
      // create our variables here. So I am going to say const open bracket
      // width, height, color, fontSize closeing bracket equals we are going to say
      // settings because settings is the name of variable in line 140. What that
      // is going to do is, it is going to pick out the width, and it is going to
      // pick out the color from our settings variable. But what about height and
      // fontSize? They haven't been set in settings so they are going to be
      // undefined and that is going to be a bit of a problem for us. What you
      // do is, when you do your destructuring, you can also a set a fallback or
      // a default value. Maybe width is default to 100, height is default to 100
      // as well, color is default to blue, and fontSize is default to 25. Now
      // what is going to happen is, this destructuring works like this. Width
      // is being destructured from the settings object? Yes. So width is going
      // to be 300. Height is that being destructured from the settings object?
      // No, it is not in there. So it is going to rollback to the default, 100.
      // Color, is that in there. Yes, so blue will not be used. Black will win
      // over. FontSize, that is not in there, so we will use the default. If we
      // type in width in the console. It will return 300. If we type in height
      // in the console, it will return 100. If we type in color in the console,
      // it will return black. If we type in fontSize in the console, it will
      // return 25.

      const settings = {width: 300, color: 'black'}; // height, fontSize
      const { width = 100, height = 100, color = 'blue' , fontSize = 25} = settings;



    </script>
  </body>
</html>
